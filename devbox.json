{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.16.0/.schema/devbox.schema.json",
  "packages": [
    "volta@latest",
    "uv@latest",
    "github:anomalyco/opencode/v1.1.51"
  ],
  "env": {
    "VOLTA_FEATURE_PNPM":  "1",
    "PUPPETEER_CACHE_DIR": "$DEVBOX_PROJECT_ROOT/.cache/puppeteer",
    "OPENCODE_CONFIG":     "$DEVBOX_PROJECT_ROOT/opencode_project.jsonc"
  },
  "shell": {
    "init_hook": [
      "mkdir -p \"$PUPPETEER_CACHE_DIR\"",
      "pnpm dlx puppeteer@23.11.1 browsers install chrome || true",
      "echo 'Welcome to Kintone Plugin Development Environment!'",
      "echo 'Loading environment variables from $DEVBOX_PROJECT_ROOT/.env if present...'",
      "if [ -f $DEVBOX_PROJECT_ROOT/.env ]; then set -a; source $DEVBOX_PROJECT_ROOT/.env; set +a; fi",
      "echo 'Development environment ready!'"
    ],
    "scripts": {
      "test": ["echo \"Error: no test specified\" && exit 1"]
    }
  }
}
